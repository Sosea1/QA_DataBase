# PT-START Как поднять тестирование проекта с нуля?
## Подготовка
Для тестирования был установлен MySQL Server 8.0.37 <br>
Далее была создана таблица **test_table** <br> 
```
CREATE TABLE test_table (
  id int NOT NULL AUTO_INCREMENT,
  test_text varchar(255) DEFAULT NULL,
  date datetime DEFAULT NULL,
  PRIMARY KEY (id)
)
```
Таблица была заполнена 10_000_000 строк текста сгенерированными с помощю библиотеки faker.
## Тестирование
### Функциональное тестирование
Для теста использовался запрос 
```
SELECT * FROM test_table WHERE test_text LIKE Already%
```
Это первоначальный запрос при его использовании работа индекса хорошо заметна. <br>
На его основе сделаны функциональные тесты без индеса (test_functional_select_no_index) и с ним (test_functional_select_index), проверялось количество строк, после тестирования ответы были одинаковые. <br>
Реализован тест для проверки того, что количество строк при использовании индекса и его отсутствии одинаковое для запроса **SELECT** (test_functional_select_like)


### Перфоманс тестирование
Тест проверяет время за которое происходит выполнение запроса **SELECT** без индекса (test_perfomance_select_like_no_index) и с ним (test_perfomance_select_like_index). Для отслеживания времени выполнения запроса используется benchmark
## Выводы
После проведения тестирования видно, что использование индекса не влияет на результат запроса, ответ одинаковый. Что касается перфоманс тестов, использование индекса позволяет снизить время на обработку запроса. <br>
![image](https://github.com/Sosea1/QA_DataBase/assets/93034280/919b6fde-5ffc-48b3-81ab-2128b5f8cd9c)
Но он используется не во всех случаях, например, если изменить запрос, так что искать необходимо будет слово в тексте, а не в начале, то использование индекса не влияет на скорость выполнения запроса.
```
SELECT * FROM test_table WHERE test_text LIKE %live%
```
![image](https://github.com/Sosea1/QA_DataBase/assets/93034280/f2d19f46-270f-48c9-a127-253e25e975d5)

## Запуск
Для функционального тестирвования достаточно запустить тест через кнопку слева от теста в PyCharm или ввести команду **pytest .\test\test_funk.py** <br>
Для перфоманс тестов почему-то через кнопку не запускалось, зато через терминал отлично работает через команду **pytest .\test\test_perf.py**, но чтобы было красиво можно прописать **pytest .\test\test_perf.py --benchmark-compare**
